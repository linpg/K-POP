<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>K-POP å¥³åœ˜çµ‚æ¥µæœƒè€ƒ (75é¡Œç‰ˆ)</title>
    <style>
        /* ==================== CSS æ¨£å¼å€ ==================== */
        :root {
            --primary-easy: #66bb6a;
            --primary-normal: #42a5f5;
            --primary-hard: #ef5350;
            --bg-gradient: linear-gradient(135deg, #fff0f5 0%, #e6e6fa 100%);
            --card-bg: #ffffff;
            --text-color: #333;
        }

        body {
            font-family: "Segoe UI", "Microsoft JhengHei", sans-serif;
            background: var(--bg-gradient);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0;
            padding: 15px;
            box-sizing: border-box;
        }

        .container {
            background: var(--card-bg);
            width: 100%;
            max-width: 650px;
            padding: 30px;
            border-radius: 25px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.1);
            text-align: center;
            position: relative;
            min-height: 600px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        h1 { margin: 0 0 10px 0; color: #333; font-size: 1.8rem; }
        h2 { margin-top: 0; font-size: 1rem; color: #666; font-weight: normal; }

        /* é¦–é æŒ‰éˆ•å¡ç‰‡ */
        .mode-card {
            border-radius: 15px;
            padding: 18px 25px;
            margin: 12px 0;
            color: white;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            text-align: left;
            position: relative;
            overflow: hidden;
            border: none;
            width: 100%;
            box-sizing: border-box;
            display: block;
        }

        .mode-card:hover { transform: translateY(-3px); box-shadow: 0 8px 20px rgba(0,0,0,0.2); }
        
        .bg-easy { background: linear-gradient(45deg, #66bb6a, #43a047); }
        .bg-normal { background: linear-gradient(45deg, #42a5f5, #1e88e5); }
        .bg-hard { background: linear-gradient(45deg, #ef5350, #c62828); }

        .mode-title { font-size: 1.3rem; font-weight: bold; display: block; margin-bottom: 4px; }
        .mode-desc { font-size: 0.85rem; opacity: 0.95; line-height: 1.4; }
        .mode-icon { position: absolute; right: 20px; top: 50%; transform: translateY(-50%); font-size: 2.2rem; opacity: 0.4; }

        /* éŠæˆ²ä»‹é¢ */
        .header-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            font-weight: bold;
            color: #555;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }

        .progress-pill {
            background: #f0f0f0;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
        }

        .question-container {
            min-height: 160px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin-bottom: 20px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 20px;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.05);
        }

        /* é¡Œå‹æ¨£å¼ */
        .q-text { font-size: 1.2rem; line-height: 1.6; font-weight: bold; color: #333; }
        .q-emoji { font-size: 4rem; letter-spacing: 12px; line-height: 1.2; }
        .q-lyrics { 
            font-size: 1.3rem; 
            font-style: italic; 
            color: #5c6bc0; 
            font-family: "Times New Roman", serif; 
            position: relative;
            padding: 0 15px;
        }
        .q-lyrics::before, .q-lyrics::after { content: "ğŸµ"; font-size: 1rem; margin: 0 10px; opacity: 0.5; }
        
        .q-body { font-size: 1.4rem; color: #d81b60; font-weight: bold; }
        .q-sub { font-size: 0.9rem; color: #888; margin-top: 12px; font-weight: normal; }

        /* é¸é … */
        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .option-btn {
            background: white;
            border: 2px solid #e0e0e0;
            padding: 14px;
            border-radius: 12px;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.2s;
            color: #444;
            font-weight: 600;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .option-btn:hover:not([disabled]) { border-color: #aaa; background: #f5f5f5; transform: translateY(-2px); }
        .option-btn.correct { background: #66bb6a !important; border-color: #66bb6a !important; color: white !important; }
        .option-btn.wrong { background: #ef5350 !important; border-color: #ef5350 !important; color: white !important; }
        .option-btn:disabled { cursor: default; opacity: 0.8; }
        
        /* è§£æ */
        .feedback {
            margin-top: 20px;
            background: #e8f5e9;
            padding: 15px;
            border-radius: 15px;
            text-align: left;
            display: none;
            animation: fadeIn 0.3s;
            font-size: 0.9rem;
        }
        .feedback.wrong-feedback { background: #ffebee; }

        .btn-action {
            background: #333;
            color: white;
            border: none;
            padding: 12px 35px;
            border-radius: 25px;
            font-size: 1rem;
            cursor: pointer;
            margin-top: 15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            transition: transform 0.2s;
        }
        .btn-action:hover { transform: scale(1.05); }

        .hidden { display: none !important; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        @media (max-width: 480px) {
            .options-grid { grid-template-columns: 1fr; }
            .q-emoji { font-size: 3rem; letter-spacing: 5px; }
        }
    </style>
</head>
<body>

    <div class="container">
        <div id="screen-home">
            <h1>K-POP å¥³åœ˜çµ‚æ¥µæœƒè€ƒ</h1>
            <h2>å…± 75 é¡Œç¨å®¶é¡Œåº«ï¼Œè«‹é¸æ“‡æŒ‘æˆ°æ¨¡å¼</h2>
            <p style="font-size: 0.8rem; color: #999; margin-bottom: 20px;">(æ¯å±€å°‡éš¨æ©ŸæŠ½å‡º 10 é¡Œé€²è¡Œæ¸¬é©—)</p>
            
            <button class="mode-card bg-easy" onclick="startGame('easy')">
                <span class="mode-title">ğŸ£ èœé›æ¨¡å¼ (ç°¡å–®)</span>
                <span class="mode-desc">ç´”æ–‡å­—é¡Œã€‚è€ƒåœ‹ç±ã€ä»£è¨€ã€è·ä½ã€åŸºæœ¬äº‹å¯¦ã€‚<br>é©åˆå‰›å…¥å‘çš„æ–°æ‰‹ã€‚</span>
                <span class="mode-icon">ğŸ“</span>
            </button>

            <button class="mode-card bg-normal" onclick="startGame('normal')">
                <span class="mode-title">ğŸ˜ æˆ‘é‚„è¡Œ (æ™®é€š)</span>
                <span class="mode-desc">Emoji è¯æƒ³é¡Œã€‚å‹•ç‰©ã€æ°´æœã€æ„›å¥½ã€ç¶½è™Ÿã€‚<br>è€ƒé©—ç²‰çµ²çš„è…¦è£œèƒ½åŠ›ã€‚</span>
                <span class="mode-icon">ğŸ§©</span>
            </button>

            <button class="mode-card bg-hard" onclick="startGame('hard')">
                <span class="mode-title">ğŸ˜ˆ æˆ‘å…¨éƒ½è¦ (å›°é›£)</span>
                <span class="mode-desc">æ­Œè© & èº«é«”ç‰¹å¾µé¡Œã€‚æ²’æœ‰ç…§ç‰‡å’Œèªªæ˜ã€‚<br>åªæœ‰ Killing Part å’Œå±€éƒ¨ç‰¹å¾µã€‚</span>
                <span class="mode-icon">ğŸ”¥</span>
            </button>
        </div>

        <div id="screen-game" class="hidden">
            <div class="header-bar">
                <span id="mode-label">æ¨¡å¼</span>
                <span class="progress-pill"><span id="curr-q">1</span> / <span id="total-q">10</span></span>
            </div>

            <div class="question-container">
                <div id="q-display"></div>
                <div id="q-subtitle" class="q-sub"></div>
            </div>

            <div class="options-grid" id="opts-area"></div>

            <div id="feedback-area" class="feedback">
                <strong id="fb-title"></strong>
                <p id="fb-text" style="margin: 5px 0 0 0; color: #555;"></p>
                <div style="text-align: center;">
                    <button class="btn-action" onclick="nextQ()">ä¸‹ä¸€é¡Œ â¡</button>
                </div>
            </div>
        </div>

        <div id="screen-end" class="hidden">
            <h1>æŒ‘æˆ°å®Œæˆï¼</h1>
            <p>é›£åº¦ï¼š<span id="end-mode-name" style="font-weight:bold;"></span></p>
            <div style="font-size: 4rem; margin: 10px 0;">ğŸ†</div>
            <h2 style="font-size: 3rem; margin: 10px 0; color: #333;">
                <span id="score-final">0</span> <span style="font-size:1.5rem; color:#999;">/ 10</span>
            </h2>
            <p id="score-comment" style="font-weight: bold; color: #555; margin-bottom: 25px;"></p>
            <button class="btn-action" style="background: #555;" onclick="location.reload()">è¿”å›ä¸»é¸å–® ğŸ </button>
        </div>
    </div>

    <script>
        // ================== é¡Œåº«è¨­å®š (æ¯æ¨¡å¼ 25 é¡Œ) ================== //
        
        // 1. ç°¡å–®æ¨¡å¼ï¼šäº‹å¯¦ã€åœ‹ç±ã€ä»£è¨€ã€è·ä½
        const poolEasy = [
            { q: "BLACKPINK çš„æ³°åœ‹ç±æˆå“¡ï¼ŒCELINE å…¨çƒå¤§ä½¿ã€‚", a: 1, o: ["Minnie", "Lisa", "Sorn", "Natty"], e: "Lisa æ˜¯çŸ¥åçš„æ³°åœ‹ç±æˆå“¡ã€‚" },
            { q: "TWICE çš„å°ç£æˆå“¡ï¼ŒéšŠå…§å¿™å…§èˆ‡é–€é¢ã€‚", a: 2, o: ["Shuhua", "Lily", "Tzuyu", "Handong"], e: "å‘¨å­ç‘œä¾†è‡ªå°ç£ã€‚" },
            { q: "aespa çš„éšŠé•·ï¼Œæ“æœ‰ã€ŒAI å»ºæ¨¡è‡‰ã€ã€‚", a: 0, o: ["Karina", "Winter", "Yeji", "Irene"], e: "Karina æ˜¯ aespa çš„éšŠé•·ã€‚" },
            { q: "IVE æˆå“¡ï¼Œå‰ IZ*ONE Cä½ï¼Œæ“æœ‰é€†å¤©é•·è…¿ã€‚", a: 3, o: ["Yujin", "Leeseo", "Sullyoon", "Wonyoung"], e: "å¼µå“¡ç‘›ä»¥é•·è…¿èåã€‚" },
            { q: "(G)I-DLE çš„éšŠé•·ï¼Œä¹Ÿæ˜¯åœ˜å…§çš„ä¸»è£½ä½œäººã€‚", a: 1, o: ["Yuqi", "Soyeon", "Minnie", "Miyeon"], e: "ç”°å°å¨Ÿæ˜¯å…¨èƒ½è£½ä½œäººã€‚" },
            { q: "NewJeans çš„è¶Šå—æ¾³ç±æˆå“¡ï¼ŒGUCCI å¤§ä½¿ã€‚", a: 0, o: ["Hanni", "Minji", "Danielle", "Haerin"], e: "Hanni æ˜¯è¶Šå—è£”æ¾³æ´²ç±ã€‚" },
            { q: "Red Velvet çš„å¤§å§èˆ‡éšŠé•·ï¼Œè¢«è­½ç‚ºé¡å€¼å¤©æ‰ã€‚", a: 3, o: ["Joy", "Seulgi", "Wendy", "Irene"], e: "Irene æ˜¯ Red Velvet éšŠé•·ã€‚" },
            { q: "MAMAMOO çš„éšŠé•·ï¼Œç¶“ç‡Ÿäººæ°£ YouTube é »é“ã€‚", a: 0, o: ["Solar", "Moonbyul", "Wheein", "Hwasa"], e: "é Œæ¨‚ (Solar) çš„é »é“å« Solarsidoã€‚" },
            { q: "ITZY çš„éšŠé•·ï¼Œç‰¹å¾µæ˜¯è²“ç›¸èˆ‡é›™é¦¬å°¾ã€‚", a: 2, o: ["Ryujin", "Yuna", "Yeji", "Lia"], e: "Yeji æ˜¯ ITZY éšŠé•·ã€‚" },
            { q: "LE SSERAFIM çš„æ—¥æœ¬æˆå“¡ï¼Œå‰ HKT48/IZ*ONEã€‚", a: 1, o: ["Kazuha", "Sakura", "Mina", "Sana"], e: "å®®è„‡å’²è‰¯ (Sakura) å‡ºé“ç¶“æ­·è±å¯Œã€‚" },
            { q: "BLACKPINK çš„æ¾³æ´²ç«ç‘°ï¼ŒYSL å“ç‰Œå¤§ä½¿ã€‚", a: 0, o: ["RosÃ©", "Jennie", "Lily", "Danielle"], e: "RosÃ© åœ¨æ¾³æ´²é•·å¤§ã€‚" },
            { q: "TWICE çš„éšŠé•·ï¼Œç¶“æ­·äº† 10 å¹´ç·´ç¿’ç”Ÿç”Ÿæ¶¯ã€‚", a: 3, o: ["Nayeon", "Jeongyeon", "Sana", "Jihyo"], e: "å¿—æ•ˆ (Jihyo) æ˜¯ç·´ç¿’ç”Ÿæ™‚é–“æœ€é•·çš„éšŠé•·ã€‚" },
            { q: "å°‘å¥³æ™‚ä»£çš„é–€é¢ï¼Œä¹Ÿæ˜¯çŸ¥åçš„å¥³æ¼”å“¡ã€‚", a: 1, o: ["Taeyeon", "Yoona", "Yuri", "Seohyun"], e: "æ½¤å¨¥ (Yoona) æ˜¯å‚³å¥‡é–€é¢ã€‚" },
            { q: "BLACKPINK çš„å¤§å§ï¼ŒDIOR å…¨çƒå“ç‰Œå¤§ä½¿ã€‚", a: 2, o: ["Jennie", "Lisa", "Jisoo", "RosÃ©"], e: "Jisoo æ˜¯ BP çš„å¤§å§ã€‚" },
            { q: "aespa çš„ä¸­åœ‹æˆå“¡ï¼Œä¸»å”±æ“”ç•¶ã€‚", a: 3, o: ["Giselle", "Winter", "Karina", "Ningning"], e: "Ningning ä¾†è‡ªä¸­åœ‹å“ˆçˆ¾æ¿±ã€‚" },
            { q: "(G)I-DLE çš„å°ç£æˆå“¡ï¼Œæ€§æ ¼ç›´ç‡ï¼Œå¿™å…§ã€‚", a: 0, o: ["Shuhua", "Tzuyu", "Elkie", "Sora"], e: "èˆ’è¯æ˜¯ (G)I-DLE çš„å¿™å…§ã€‚" },
            { q: "TWICE çš„å¤§å§ï¼Œæ¨™èªŒæ€§çš„å…”ç‰™ï¼Œé¦–ä½ Solo æˆå“¡ã€‚", a: 1, o: ["Sana", "Nayeon", "Momo", "Mina"], e: "å¨œç’‰ (Nayeon) 2022 å¹´ç‡å…ˆ Soloã€‚" },
            { q: "LE SSERAFIM çš„éšŠé•·ï¼Œå‰ IZ*ONE æˆå“¡ã€‚", a: 2, o: ["Yunjin", "Sakura", "Chaewon", "Eunchae"], e: "é‡‘é‡‡æº (Chaewon) æ˜¯ç¾ä»»éšŠé•·ã€‚" },
            { q: "NMIXX çš„éšŠé•·ï¼Œä»¥æµ·è±šéŸ³å’Œç¶œè—æ„Ÿèåã€‚", a: 0, o: ["Haewon", "Lily", "Bae", "Kyujin"], e: "æµ·å«„ (Haewon) ä¹Ÿæ˜¯ç¶²è·¯è¿·å› è£½é€ æ©Ÿã€‚" },
            { q: "IVE çš„éšŠé•·ï¼Œæ´»èºæ–¼ç¶œè—ã€Šåœ°çƒå¨›æ¨‚å®¤ã€‹ã€‚", a: 3, o: ["Gaeul", "Liz", "Rei", "Yujin"], e: "å®‰å…ªçœŸ (Yujin) ç¶œè—è¡¨ç¾äº®çœ¼ã€‚" },
            { q: "Red Velvet çš„ä¸»èˆï¼Œå–®çœ¼çš®é­…åŠ›çš„ä»£è¡¨ã€‚", a: 1, o: ["Irene", "Seulgi", "Joy", "Yeri"], e: "Seulgi æ˜¯å…¬èªçš„å…¨èƒ½ ACEã€‚" },
            { q: "BLACKPINK çš„ Main Rapperï¼Œæ“æœ‰ã€Œäººé–“é¦™å¥ˆå…’ã€ä¹‹ç¨±ã€‚", a: 0, o: ["Jennie", "Lisa", "Jisoo", "RosÃ©"], e: "Jennie æ˜¯ Chanel å¤§ä½¿ã€‚" },
            { q: "ITZY çš„å¿™å…§ï¼Œæ“æœ‰åƒèŠ­æ¯”å¨ƒå¨ƒä¸€æ¨£çš„èº«æã€‚", a: 2, o: ["Lia", "Ryujin", "Yuna", "Chaeryeong"], e: "Yuna æ˜¯ ITZY çš„å·¨å¬°å¿™å…§ã€‚" },
            { q: "NewJeans çš„æœ€å¹´é•·æˆå“¡ï¼Œå¸¸è¢«èª¤èªç‚ºéšŠé•·ã€‚", a: 1, o: ["Hanni", "Minji", "Haerin", "Hyein"], e: "Minji æ˜¯å¤§å§ã€‚" },
            { q: "aespa çš„æ—¥æœ¬æˆå“¡ï¼Œä¸»è¦æ“”ä»» Rapperã€‚", a: 0, o: ["Giselle", "Winter", "Ningning", "Karina"], e: "Giselle æ˜¯æ—¥éŸ“æ··è¡€ã€‚" }
        ];

        // 2. æ™®é€šæ¨¡å¼ï¼šEmoji è¯æƒ³ã€å‹•ç‰©ã€ä»£è¡¨ç‰©
        const poolNormal = [
            { q: "ğŸ°ğŸ¦·", sub: "å…”å­ + ç‰™é½’", a: 0, o: ["Nayeon", "Jihyo", "Chuu", "Yujin"], e: "TWICE å¨œç’‰çš„æ‹›ç‰Œæ˜¯å…”ç‰™ã€‚" },
            { q: "ğŸ¥ŸğŸ’ƒ", sub: "é¤ƒå­ + æ™‚å°š", a: 2, o: ["Ningning", "Minnie", "Jennie", "Jessica"], e: "Jennie å¸¸è¢«ç¨±ç‚ºã€Œäººé–“é¤ƒå­ã€ã€‚" },
            { q: "ğŸ¦¢ğŸ©°", sub: "å¤©éµ + èŠ­è•¾", a: 1, o: ["Mina", "Kazuha", "Tsuki", "Xiaoting"], e: "LE SSERAFIM Kazuha æ˜¯èŠ­è•¾å°ˆæ¥­ã€‚" },
            { q: "ğŸ¶ğŸ¤£", sub: "ç‹—ç‹— + ç¶œè—ç˜‹å­", a: 3, o: ["Jisoo", "Winter", "Mimi", "Yujin"], e: "IVE å®‰å…ªçœŸç¶½è™Ÿå®‰ç‹—ç‹—ã€‚" },
            { q: "ğŸ»ğŸ¨", sub: "ç†Š + ç•«ç•«", a: 2, o: ["Irene", "Joy", "Seulgi", "Wendy"], e: "Red Velvet Seulgi ä»£è¡¨å‹•ç‰©æ˜¯ç†Šã€‚" },
            { q: "ğŸ¢ğŸ‹ï¸â€â™€ï¸", sub: "å‚‘å°¼é¾œ + å¥èº«", a: 0, o: ["Solar", "Yeri", "Nayeon", "Eunchae"], e: "MAMAMOO Solar é•·å¾—åƒå‚‘å°¼é¾œã€‚" },
            { q: "ğŸ¹ğŸ§€", sub: "å€‰é¼  + èµ·å¸ (No Sana No Life)", a: 1, o: ["Moonbyul", "Sana", "Winter", "Liz"], e: "TWICE Sana åƒå€‰é¼ ã€‚" },
            { q: "ğŸ§ğŸ®", sub: "ä¼éµ + æ‰“éŠæˆ²", a: 2, o: ["Momo", "Sana", "Mina", "Tzuyu"], e: "TWICE Mina çš„ä»£è¡¨å‹•ç‰©æ˜¯ä¼éµã€‚" },
            { q: "ğŸ¦…â›ªï¸", sub: "è€é·¹èˆ + æ•™æœƒå§å§", a: 3, o: ["Nayoung", "SinB", "Hani", "Dahyun"], e: "TWICE å¤šè³¢çš„è€é·¹èˆéå¸¸æœ‰åã€‚" },
            { q: "ğŸğŸ’™", sub: "è›‡(é»‘æ›¼å·´) + è—è‰²æ„›å¿ƒ", a: 0, o: ["Karina", "Yeji", "Chungha", "Sunmi"], e: "aespa Karina çš„ä»£è¡¨ç¬¦è™Ÿã€‚" },
            { q: "ğŸ¦ğŸ¤", sub: "ç…å­ + éº¥å…‹é¢¨", a: 1, o: ["Hwasa", "Soyeon", "CL", "Jessi"], e: "(G)I-DLE å°å¨Ÿåœ¨ Lion èˆå°å±•ç¾éœ¸æ°£ã€‚" },
            { q: "â„ï¸â­ï¸", sub: "å­£ç¯€å + æ˜Ÿæ˜Ÿ", a: 2, o: ["Gaeul", "Summer", "Winter", "Yeoreum"], e: "aespa Winter åå­—å°±æ˜¯å†¬å¤©ã€‚" },
            { q: "ğŸ¿ï¸ğŸŒ¹", sub: "èŠ±æ —é¼  + ç«ç‘°", a: 0, o: ["RosÃ©", "Lisa", "Wendy", "Sana"], e: "BLACKPINK RosÃ© ä»£è¡¨å‹•ç‰©æ˜¯èŠ±æ —é¼ ã€‚" },
            { q: "ğŸ¥ğŸ’", sub: "å°é› + éŒ¢/å¯Œå©†", a: 1, o: ["Rei", "Lisa", "Joy", "Yeri"], e: "BLACKPINK Lisa å¸¸ç”¨å°é›ä»£è¡¨ã€‚" },
            { q: "ğŸ±ğŸ©", sub: "è²“å’ª + ç¦®å¿— (Light Fury)", a: 3, o: ["Haerin", "Sakarina", "Hyein", "Yeji"], e: "ITZY Yeji é•·å¾—åƒã€Šé¦´é¾é«˜æ‰‹ã€‹çš„å…‰ç…ã€‚" },
            { q: "ğŸ¦’ğŸ‡ºğŸ‡¸", sub: "é•·é ¸é¹¿ + ç¾åœ‹", a: 0, o: ["Yunjin", "Lia", "Tiffany", "Jessica"], e: "LE SSERAFIM è¨±å…çœã€‚" },
            { q: "ğŸ§šâ€â™€ï¸ğŸ¤", sub: "ç²¾éˆ + å‚³å¥‡ä¸»å”±", a: 2, o: ["IU", "BoA", "Taeyeon", "Eunji"], e: "å°‘å¥³æ™‚ä»£å¤ªå¦è¢«ç¨±ç‚ºç²¾éˆç‹ã€‚" },
            { q: "ğŸŠğŸ±", sub: "æ©˜å­ + è²“", a: 1, o: ["Rei", "Liz", "Leeseo", "Gaeul"], e: "IVE Liz ä¾†è‡ªæ¿Ÿå·å³¶(ç”¢æ©˜å­)ã€‚" },
            { q: "ğŸ¥£ğŸ’™", sub: "ç¢—(Wendy) + è—è‰²", a: 3, o: ["Joy", "Yeri", "Irene", "Wendy"], e: "Red Velvet Wendy è«§éŸ³ç¢—ã€‚" },
            { q: "ğŸ‘ğŸ’ƒ", sub: "æ¡ƒå­ + èˆè¹ˆæ©Ÿå™¨", a: 0, o: ["Momo", "Sulli", "Joy", "YooA"], e: "TWICE Momo åå­—æ˜¯æ¡ƒå­çš„æ„æ€ã€‚" },
            { q: "ğŸ¦ŠğŸ", sub: "æ²™æ¼ ç‹ç‹¸ + éºµåŒ…", a: 2, o: ["Tzuyu", "Minju", "I.N", "Jeongyeon"], e: "å‰ IZ*ONE ç‰å‘¨æˆ– SKZ I.Nï¼Œä½†å¥³åœ˜ä¸­ Tzuyu æœ‰æ™‚ä¹Ÿç”¨ç‹ç‹¸ï¼Œä¸éé€™è£¡æŒ‡**I.N**äº‚å…¥? ä¸ï¼Œé€™æ˜¯å¥³åœ˜é¡Œï¼Œæ­£ç¢ºæ‡‰æ˜¯ **ITZY Chaeryeong (å½©é ˜)** ä¹Ÿæ˜¯ç‹ç‹¸ç›¸ã€‚", a:3, o:["Yeji", "Tzuyu", "Minju", "Chaeryeong"], e:"ITZY å½©é ˜ä¹Ÿæ˜¯ç‹ç‹¸ç›¸ä»£è¡¨ã€‚", correct:3 }, // ä¿®æ­£ index
            { q: "ğŸ˜¿ğŸ˜¼", sub: "è²“å’ª(å¾ˆåƒè²“çš„é‚£å€‹)", a: 0, o: ["Haerin", "Hyein", "Minji", "Danielle"], e: "NewJeans Haerin æ˜¯å…¬èªçš„è²“è²“ã€‚" },
            { q: "ğŸ’ğŸ°", sub: "æ«»æ¡ƒ + å…”å­", a: 1, o: ["Nayeon", "Wonyoung", "Eunbi", "Yena"], e: "IVE å¼µå“¡ç‘›å¸¸è¢«ç”¨æ«»æ¡ƒå’Œå…”å­å½¢å®¹ã€‚" },
            { q: "ğŸ‘¸ğŸ¥", sub: "å…¬ä¸» + å¥‡ç•°æœ (Kiwi)", a: 2, o: ["Sana", "Miyeon", "Joy", "Rei"], e: "Red Velvet Joy çš„ä»£è¡¨æ°´æœæ˜¯å¥‡ç•°æœã€‚" },
            { q: "ğŸ¦ŒğŸ’„", sub: "å°é¹¿ + æ¼”å“¡", a: 0, o: ["Yoona", "Tzuyu", "Miyeon", "Sullyoon"], e: "å°‘å¥³æ™‚ä»£æ½¤å¨¥æ˜¯å°é¹¿ç›¸å§‹ç¥–ã€‚" }
        ];
        // ä¿®æ­£ä¸Šæ–¹ normal pool æœ€å¾Œå¹¾å€‹ index éŒ¯èª¤
        // ç‚ºäº†ç¢ºä¿ç¨‹å¼ä¸å‡ºéŒ¯ï¼Œæˆ‘å°‡é‡å¯« poolNormal çš„ç¬¬ 21 é¡Œ (index 20)
        poolNormal[20] = { q: "ğŸ¦ŠğŸ", sub: "æ²™æ¼ ç‹ç‹¸ + éºµåŒ…", a: 3, o: ["Yeji", "Tzuyu", "Minju", "I.N (ç”·)"], e: "æŠ±æ­‰ï¼Œå¥³åœ˜ä¸­æ¯”è¼ƒå°‘éºµåŒ…çµ„åˆï¼Œé€™é¡Œæ”¹ç‚ºï¼š**ç‹ç‹¸ç›¸**ã€‚ITZY Chaeryeong ä¹Ÿæ˜¯ç‹ç‹¸ã€‚", a:0, o:["Chaeryeong", "Karina", "Winter", "Sullyoon"], e:"ITZY å½©é ˜è¢«ç¨±ç‚ºæ²™æ¼ ç‹ç‹¸ã€‚" };

        // 3. å›°é›£æ¨¡å¼ï¼šæ­Œè©ã€èº«é«”éƒ¨ä½ (Killing Part)
        const poolHard = [
            { q: "I'm a queencard", type: 'lyrics', sub: "é€™å¥æ­Œè©çš„åŸå”±/è£½ä½œäºº", a: 1, o: ["Miyeon", "Soyeon", "Shuhua", "Minnie"], e: "(G)I-DLEã€ŠQueencardã€‹Soyeonã€‚" },
            { q: "11å­—è…¹è‚Œ", type: 'body', sub: "æ“æœ‰å®Œç¾çš„11å­—è…¹è‚Œ", a: 2, o: ["Solar", "Jihyo", "Kazuha", "Seulgi"], e: "LE SSERAFIM Kazuhaã€‚" },
            { q: "Look at you, now look at me", type: 'lyrics', sub: "é–‹å ´ Killing Part", a: 3, o: ["Jennie", "Jisoo", "RosÃ©", "Lisa"], e: "BLACKPINK Lisa åœ¨ HYLT çš„æ­Œè©ã€‚" },
            { q: "ç›´è§’è‚© (90åº¦)", type: 'body', sub: "è¡Œèµ°çš„è¡£æ¶å­", a: 0, o: ["Jennie", "Lia", "Tzuyu", "Yuna"], e: "Jennie çš„ç›´è§’è‚©ã€‚" },
            { q: "Next Level", type: 'lyrics', sub: "é€™é¦–æ­Œçš„åŸå”±åœ˜é«”", a: 1, o: ["ITZY", "aespa", "NMIXX", "STAYC"], e: "aespa çš„ä»£è¡¨ä½œã€‚" },
            { q: "107å…¬åˆ†é•·è…¿", type: 'body', sub: "åƒç¾å°‘å¥³æˆ°å£«ä¸€æ¨£çš„æ¯”ä¾‹", a: 2, o: ["Sowon", "Nana", "Wonyoung", "Lisa"], e: "IVE å¼µå“¡ç‘›ã€‚" },
            { q: "Shy Shy Shy", type: 'lyrics', sub: "å‚³å¥‡æ’’å¬Œæ­Œè©", a: 0, o: ["Sana", "Nayeon", "Mina", "Tzuyu"], e: "TWICE Sanaã€‚" },
            { q: "Wannabe me, me, me", type: 'lyrics', sub: "æŠ–è‚©èˆ C ä½", a: 1, o: ["Yeji", "Ryujin", "Yuna", "Chaeryeong"], e: "ITZY Ryujinã€‚" },
            { q: "å˜´è§’çš„ç—£", type: 'body', sub: "AI è‡‰éšŠé•·çš„æ¨™èªŒ", a: 3, o: ["Wonyoung", "Mina", "Soojin", "Karina"], e: "aespa Karinaã€‚" },
            { q: "Anti-ti-ti-ti-fragile", type: 'lyrics', sub: "é€™é¦–æ­Œçš„åœ˜é«”", a: 0, o: ["LE SSERAFIM", "IVE", "NewJeans", "(G)I-DLE"], e: "LE SSERAFIMã€‚" },
            { q: "Cookin' like a chef", type: 'lyrics', sub: "é€™å¥æ­Œè©å‡ºè‡ªå“ªé¦–æ­Œ?", a: 2, o: ["DDU-DU DDU-DU", "How You Like That", "God's Menu", "Back Door"], e: "Stray Kids? ä¸ï¼Œé€™æ˜¯å¥³åœ˜ç‰ˆ... æŠ±æ­‰ BLACKPINK ä¹Ÿæœ‰é¡ä¼¼ã€‚é€™é¡Œæ”¹ç‚º: **Whoo whoo whoo whoo** (Ditto)ã€‚", a:3, o:["Hype Boy", "Attention", "OMG", "Ditto"], e:"NewJeans çš„ã€ŠDittoã€‹é–‹é ­ã€‚", q: "Ra-ta-ta-ta", sub:"éŸ¿å¾¹å¿ƒæ‰‰çš„è²éŸ³ (å‡ºé“æ›²)", a:0, o:["BLACKPINK", "2NE1", "Everglow", "ITZY"], e:"2NE1ã€ŠI Am The Bestã€‹æˆ– BP? å…¶å¯¦æ˜¯ BPã€ŠBoombayahã€‹Lisa part ä¹Ÿæœ‰ã€‚æ”¹ç‚º **Hype Boy** æ­Œè©ã€‚", q: "'Cause I know what you like boy", sub:"æ­Œè©å‡ºè™•", a:1, o:["Attention", "Hype Boy", "Cookie", "Hurt"], e:"NewJeansã€ŠHype Boyã€‹ã€‚" },
            { q: "å˜´å”‡ä¸‹æ–¹çš„ç—£", type: 'body', sub: "éå¸¸æœ‰ç‰¹è‰²çš„ä½ç½®", a: 0, o: ["Chaeyoung (TWICE)", "Mina", "Irene", "Solar"], e: "TWICE å½©ç‘›å˜´å”‡å·¦ä¸‹æ–¹æœ‰ç—£ã€‚" },
            { q: "Narcissistic, my god I love it", type: 'lyrics', sub: "é€™å¥æ­Œè©çš„ Killing Part", a: 1, o: ["Yujin", "Wonyoung", "Liz", "Rei"], e: "IVEã€ŠLove Diveã€‹å¼µå“¡ç‘›çš„éƒ¨åˆ†ã€‚" },
            { q: "Bichi naneun solo", type: 'lyrics', sub: "é–ƒé–ƒç™¼å…‰çš„ Solo", a: 2, o: ["RosÃ©", "Jisoo", "Jennie", "Lisa"], e: "Jennieã€ŠSOLOã€‹ã€‚" },
            { q: "å–®çœ¼çš®", type: 'body', sub: "SM å¨›æ¨‚å”¯ä¸€çš„å–®çœ¼çš®å¥³å¶åƒ", a: 3, o: ["Irene", "Wendy", "Joy", "Seulgi"], e: "Red Velvet Seulgiã€‚" },
            { q: "Hey boy, Look, I'm gonna make this simple", type: 'lyrics', sub: "é€™å¥é–‹å ´ç™½æ˜¯èª°?", a: 0, o: ["Nayeon", "Jihyo", "Sana", "Momo"], e: "TWICEã€ŠPop!ã€‹å¨œç’‰çš„é–‹å ´ã€‚" },
            { q: "Kkot-garu (èŠ±ç²‰)", type: 'lyrics', sub: "å™´ç‘èŠ±ç²‰çš„åå ´é¢", a: 1, o: ["Irene", "Joy", "Yeri", "Seulgi"], e: "Red Velvetã€ŠFeel My Rhythmã€‹Joy çš„ Partã€‚" },
            { q: "Mojito with Lime", type: 'lyrics', sub: "ç”œç¾çš„å¤æ—¥æ­Œæ›²", a: 2, o: ["Dance The Night Away", "More & More", "Alcohol-Free", "Talk that Talk"], e: "TWICEã€ŠAlcohol-Freeã€‹ã€‚" },
            { q: "è²“çœ¼ (Cat Eyes)", type: 'body', sub: "é€™é›™çœ¼ç›éå¸¸æœ‰ä¾µç•¥æ€§èˆ‡é­…åŠ›", a: 3, o: ["Yoona", "Irene", "Suzy", "Yeji"], e: "ITZY Yeji çš„è²“çœ¼æœ€è‘—åã€‚" },
            { q: "On the ground", type: 'lyrics', sub: "Everything I need is...", a: 0, o: ["RosÃ©", "Jennie", "Wendy", "Taeyeon"], e: "RosÃ© çš„ Solo æ›²ã€‚" },
            { q: "Yeah, I'm f**king tomboy", type: 'lyrics', sub: "é€™å¥æ¶ˆéŸ³æ­Œè©", a: 1, o: ["Minnie", "Soyeon", "Yuqi", "Shuhua"], e: "(G)I-DLEã€ŠTomboyã€‹Soyeon çš„ Partã€‚" },
            { q: "é…’çª© (Dimples)", type: 'body', sub: "ç¬‘èµ·ä¾†æœ‰è²“å’ªé¬é¬šèˆ¬çš„é…’çª©", a: 2, o: ["Tzuyu", "Wendy", "Ryujin", "Jisoo"], e: "ITZY Ryujin æœ‰è‘—åçš„è²“å’ªé…’çª©ã€‚" },
            { q: "After Like", type: 'lyrics', sub: "Yoo-hoo-and-I...", a: 0, o: ["IVE", "NewJeans", "aespa", "STAYC"], e: "IVE çš„æ­Œæ›²ã€‚" },
            { q: "Flower", type: 'lyrics', sub: "åªç•™ä¸‹äº†èŠ±é¦™", a: 3, o: ["Gashina", "Lalisa", "Solo", "Flower"], e: "Jisoo çš„ Solo æ›²ã€ŠFlowerã€‹ã€‚" },
            { q: "é¼»å­ä¸Šçš„ç—£", type: 'body', sub: "é¼»æ¨‘/é¼»å°–ä¸Šçš„ç¾äººç—£", a: 1, o: ["Sana", "Mina", "Momo", "Nayeon"], e: "TWICE Mina é¼»å­ä¸Šæœ‰ç—£ (V ä¹Ÿæ˜¯)ã€‚" }
        ];

        // ================== éŠæˆ²é‚è¼¯ ================== //
        
        let currentQuestions = [];
        let currentIndex = 0;
        let score = 0;
        let currentMode = '';
        const QUESTIONS_PER_GAME = 10; // æ¯å±€åªç© 10 é¡Œ

        const ui = {
            home: document.getElementById('screen-home'),
            game: document.getElementById('screen-game'),
            end: document.getElementById('screen-end'),
            
            modeLabel: document.getElementById('mode-label'),
            currQ: document.getElementById('curr-q'),
            totalQ: document.getElementById('total-q'),
            qDisplay: document.getElementById('q-display'),
            qSub: document.getElementById('q-subtitle'),
            optsArea: document.getElementById('opts-area'),
            
            feedback: document.getElementById('feedback-area'),
            fbTitle: document.getElementById('fb-title'),
            fbText: document.getElementById('fb-text'),
            
            endModeName: document.getElementById('end-mode-name'),
            scoreFinal: document.getElementById('score-final'),
            scoreComment: document.getElementById('score-comment')
        };

        // äº‚æ•¸æ´—ç‰Œ
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function startGame(mode) {
            currentMode = mode;
            score = 0;
            currentIndex = 0;

            // 1. é¸æ“‡é¡Œåº«
            let fullPool = [];
            if (mode === 'easy') fullPool = [...poolEasy];
            else if (mode === 'normal') fullPool = [...poolNormal];
            else if (mode === 'hard') fullPool = [...poolHard];
            
            // 2. æ´—ç‰Œä¸¦åªå–å‰ 10 é¡Œ
            fullPool = shuffle(fullPool);
            currentQuestions = fullPool.slice(0, QUESTIONS_PER_GAME);

            // 3. è¨­å®š UI
            let modeText = "";
            if (mode === 'easy') modeText = "ğŸ£ ç°¡å–®æ¨¡å¼";
            if (mode === 'normal') modeText = "ğŸ˜ æ™®é€šæ¨¡å¼";
            if (mode === 'hard') modeText = "ğŸ˜ˆ å›°é›£æ¨¡å¼";
            ui.modeLabel.textContent = modeText;
            ui.endModeName.textContent = modeText;
            ui.totalQ.textContent = QUESTIONS_PER_GAME;

            // 4. åˆ‡æ›ç•«é¢
            ui.home.classList.add('hidden');
            ui.end.classList.add('hidden');
            ui.game.classList.remove('hidden');

            loadQ();
        }

        function loadQ() {
            const data = currentQuestions[currentIndex];
            ui.currQ.textContent = currentIndex + 1;
            
            // é‡ç½®æ¨£å¼
            ui.qDisplay.className = '';
            ui.qDisplay.innerHTML = data.q;
            ui.qSub.textContent = data.sub || "";

            // æ ¹æ“šé¡Œç›®é¡å‹å¥—ç”¨ CSS
            if (currentMode === 'easy') ui.qDisplay.classList.add('q-text');
            if (currentMode === 'normal') ui.qDisplay.classList.add('q-emoji');
            if (currentMode === 'hard') {
                if (data.type === 'lyrics') ui.qDisplay.classList.add('q-lyrics');
                else if (data.type === 'body') ui.qDisplay.classList.add('q-body');
                else ui.qDisplay.classList.add('q-text'); // fallback
            }

            // é¸é …æŒ‰éˆ•
            ui.optsArea.innerHTML = '';
            ui.feedback.style.display = 'none';
            ui.feedback.className = 'feedback';

            data.o.forEach((txt, idx) => {
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                btn.textContent = txt;
                btn.onclick = () => checkAns(idx, btn);
                ui.optsArea.appendChild(btn);
            });
        }

        function checkAns(idx, btn) {
            const data = currentQuestions[currentIndex];
            const allBtns = document.querySelectorAll('.option-btn');
            
            allBtns.forEach(b => b.disabled = true);

            if (idx === data.a) {
                score++;
                btn.classList.add('correct');
                ui.fbTitle.innerHTML = "âœ… ç­”å°äº†ï¼";
                ui.fbTitle.style.color = "green";
            } else {
                btn.classList.add('wrong');
                allBtns[data.a].classList.add('correct');
                ui.feedback.classList.add('wrong-feedback');
                ui.fbTitle.innerHTML = "âŒ ç­”éŒ¯å›‰...";
                ui.fbTitle.style.color = "#d32f2f";
            }

            ui.fbText.textContent = data.e;
            ui.feedback.style.display = 'block';
        }

        function nextQ() {
            currentIndex++;
            if (currentIndex < QUESTIONS_PER_GAME) {
                loadQ();
            } else {
                showEnd();
            }
        }

        function showEnd() {
            ui.game.classList.add('hidden');
            ui.end.classList.remove('hidden');
            
            ui.scoreFinal.textContent = score;
            
            const percent = score / QUESTIONS_PER_GAME;
            let msg = "";
            if (percent === 1) msg = "å¤ªå®Œç¾äº†ï¼ä½ æ˜¯çœŸæ­£çš„ K-POP åšå£«ï¼ğŸ‘‘";
            else if (percent >= 0.8) msg = "è¶…å¼·ï¼é€™å€‹é›£åº¦å®Œå…¨é›£ä¸å€’ä½ ï¼âœ¨";
            else if (percent >= 0.6) msg = "ä¸éŒ¯å–”ï¼å°å¥³åœ˜å¾ˆæœ‰ç ”ç©¶ï¼ğŸ’–";
            else msg = "å†æ¥å†å²ï¼å¤šè½å¹¾æ¬¡æ­Œå°±ç†Ÿäº†ï¼ğŸµ";
            
            ui.scoreComment.textContent = msg;
        }
    </script>
</body>
</html>
